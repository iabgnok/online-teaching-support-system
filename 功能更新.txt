在线教学辅助系统
功能增加：
教师端：
1）教学计划及计划的日历化显示（教师可以自己安排教学进度，在日历上做日程的增删改查；颜色渐变还有两周以上的日程显示为绿色，两周到一周的显示为黄色，不足一周的显示为橙色，剩余一天的显示为红色；该功能入口放在导航栏上，联动性：增加“一键同步至学生端”的开关。教师修改计划后，可选择是否更新到学生的参考日历中。
视图切换：除了日历视图，建议提供“列表视图”，方便教师批量处理长达一个学期的教学条目。）

2）线上授课（教师可以以教学班为单位进行线上授课：在该功能页面选择教学班进行授课，将屏幕共享与文字互动的协同
即将屏幕共享、实时画板与文字互动整合在一个协同界面中，授课开始后将向教学班所有学生进行一次授课开始通知【作为系统公告发布】，学生之后进入导航栏的上课页面就可以看到对应教学班的老师发布的课堂入口。课中教师可以便捷的发布任务和考勤，学生完成，计入原来的任务和考勤统计。教师点击授课结束就视为课堂结束，系统总结教师发布的信息作为课堂笔记，课堂笔记由教师决定发不发布给学生
在这种模式下，你的前端 Vue 界面将成为一个“协同画布”，所有操作都通过 Flask-SocketIO 进行实时同步。

1. 协同教学界面的功能构成
你可以将原先分离的功能整合为三个图层：

底层（流媒体层）：通过 WebRTC 展示老师的屏幕共享视频流。

中间层（交互画板）：一个透明的 HTML5 Canvas，老师涂鸦的坐标通过 Socket 实时广播给学生，学生端同步绘制。

侧边层（互动室）：浮动或侧边的文字/文件群聊窗口，用于提问和下发课件。

2. 技术实现逻辑
A. 坐标同步（画板协同）
这是最能体现“协同”的地方。老师在屏幕上划线时，Vue 组件捕获坐标并发送：

JavaScript

// 老师端捕获并发送
canvas.on('mousemove', (e) => {
  if (isDrawing) {
    const data = { x: e.clientX, y: e.clientY, color: '#ff0000' };
    [cite_start]this.socket.emit('drawing', data); // [cite: 4, 7]
  }
});

// 学生端监听并渲染
this.socket.on('drawing', (data) => {
  [cite_start]drawOnCanvas(data.x, data.y, data.color); // [cite: 6]
});
B. 媒体流与信令协同
利用 Flask-SocketIO 作为信令服务器（Signaling Server），管理 WebRTC 的握手流程。

建立连接：当老师点击“开始上课”，Flask 向所有学生发送 start_lesson 信号，触发 WebRTC 握手。

同步状态：如果老师切换了屏幕共享的内容，通过 Socket 通知学生端刷新 video 标签的源。

3. SQL Server 的数据支持
虽然直播是实时的，但为了保证教学质量，SQL Server 依然扮演关键角色：

课堂快照：老师可以一键将当前的画板 Canvas 内容保存为 Base64 或图片，上传到服务器并将路径存入 SQL Server。

课堂笔记关联：将聊天室中重要的文字提问或老师上传的文件，与当前课堂的 LessonID 关联，方便学生课后回溯。

4. 整合后的难点与解决
延迟对齐：WebRTC 的视频流几乎是零延迟的，但如果网络波动，Canvas 的笔迹可能会比视频快或慢。

解决建议：在发送 Socket 坐标时带上时间戳，学生端做微小的缓冲处理。

Canvas 缩放适配：老师和学生的屏幕分辨率不同。

解决建议：不要发送绝对像素坐标，而是发送百分比坐标（例如 x: 0.5, y: 0.3），学生端再根据自己的屏幕宽度计算实际位置。
由于这个功能的实现可以预见的是比较困难的，是否将它作为一个模块单独出来开发会比较好，开发完了再嵌入系统）


学生端：
1）任务日历化显示增强（学生原有的任务日程显示功能增强，不仅显示教师派发的任务还可以自己在日历上进行学习计划的增删改查，颜色显示逻辑同教师的教学计划日历化显示，个人/课程任务区分：学生不仅是被动接受者，还是主动规划者。用“卡片样式”做区分能清晰界定“学校要求”与“自我提升”；截止日期闹钟：既然已经有了日历变色，可以增加一个“临期推送通知”，在任务变红（剩余一天）时发送系统消息。）

2）在线测试增强（对教师发布的考试类型任务进行增强，不需要建立题库，试卷试题仍然由教师导入，但时间限制检测和作弊检测增强，防作弊增强：在不建立题库的情况下，可以加强前端监测（如切屏检测、随机乱序题目、页面水印）；引入**“异常行为记录”**，记录学生离开页面的频率和时间，作为教师评分参考。）


系统ui：
参考moodle
导航栏变成竖向排列并放在界面左侧，用一个悬浮组件乘放导航栏，初始为压缩状态，当鼠标移到该组件上就会向右弹出一部分，显示各个功能入口的文字名称，账号信息管理功能入口变为市面上的头像加身份的显示，放在新导航栏的底部，仍作为账号管理的入口。悬浮压缩态：这极大释放了屏幕横向空间，对在平板或分屏学习的学生非常友好。
底部账户设计：头像+身份放在底部是标准的“SaaS架构”布局，建议点击头像弹出浮层（Popover）包含：个人设置、切换身份、退出登录。其他参考moodle