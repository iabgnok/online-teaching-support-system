# 数据导入说明文档

## 系统数据导入顺序

由于表之间存在外键依赖关系，请按以下顺序导入数据：

### 第一步：导入用户数据
1. **批量导入用户** (Users/Admin/Teacher/Student)
   - 文件列：`username, password, real_name, role, role_no, phone, email, department, major, grade, class_name, title, gender`
   - 必填字段：`username, password, real_name, role, role_no`
   - 说明：role 可为 admin/teacher/student

### 第二步：导入课程数据
2. **批量导入课程** (Course)
   - 文件列：`course_code, course_name, credit, hours, course_type, description`
   - 必填字段：`course_code, course_name`
   - 示例：
     ```
     course_code,course_name,credit,hours,course_type,description
     CS101,计算机导论,3.0,48,必修,计算机科学基础课程
     MATH201,高等数学,4.0,64,必修,数学基础课程
     ```

### 第三步：导入教学班数据
3. **批量导入教学班** (TeachingClass)
   - 文件列：`course_code, class_name, semester, class_time, classroom, capacity`
   - 必填字段：`course_code, class_name, semester`
   - 示例：
     ```
     course_code,class_name,semester,class_time,classroom,capacity
     CS101,计算机导论-1班,2025-2026-1,周一 1-2节,A101,60
     CS101,计算机导论-2班,2025-2026-1,周三 3-4节,A102,60
     ```

### 第四步：导入选课和任课关系
4. **批量导入学生选课** (StudentClass)
   - 文件列：`student_no, class_name, semester`
   - 必填字段：全部
   - 示例：
     ```
     student_no,class_name,semester
     2023001001,计算机导论-1班,2025-2026-1
     2023001002,计算机导论-1班,2025-2026-1
     ```

5. **批量导入教师任课** (TeacherClass)
   - 文件列：`teacher_no, class_name, semester, role`
   - 必填字段：`teacher_no, class_name, semester`
   - role 可选值：main（主讲）、assistant（助教），默认 main
   - 示例：
     ```
     teacher_no,class_name,semester,role
     T001,计算机导论-1班,2025-2026-1,main
     T002,计算机导论-1班,2025-2026-1,assistant
     ```

## 系统自动生成的数据

以下数据由系统根据用户操作自动生成，**无需导入**：

1. **教学资料** (Material) - 教师在教学班中上传
2. **作业/考试** (Assignment) - 教师创建
3. **提交记录** (Submission) - 学生提交作业
4. **成绩** (Grade) - 系统根据作业/考试自动计算

## 注意事项

1. **CSV 文件编码**：请使用 UTF-8 编码保存 CSV 文件
2. **字段顺序**：CSV 文件必须包含指定的列标题，顺序不限
3. **唯一性约束**：
   - 用户名、学号、工号、管理员编号必须唯一
   - 课程代码必须唯一
   - 同一学生不能重复选同一门课
   - 同一教师不能重复任教同一门课
4. **外键依赖**：
   - 导入教学班前必须先导入课程
   - 导入选课关系前必须先导入学生和教学班
   - 导入任课关系前必须先导入教师和教学班

## CSV 文件示例

### 用户导入示例 (users.csv)
```csv
username,password,real_name,role,role_no,phone,email,department,major,grade,class_name,title,gender
zhangsan,pass123,张三,student,2023001001,13800138000,zhangsan@example.com,计算机学院,计算机科学与技术,2023,1班,,男
lisi,pass456,李四,teacher,T001,13900139000,lisi@example.com,计算机学院,,,,副教授,女
```

### 课程导入示例 (courses.csv)
```csv
course_code,course_name,credit,hours,course_type,description
CS101,计算机导论,3.0,48,必修,介绍计算机科学基础知识
MATH201,高等数学,4.0,64,必修,数学分析基础课程
```

### 教学班导入示例 (teaching_classes.csv)
```csv
course_code,class_name,semester,class_time,classroom,capacity
CS101,计算机导论-1班,2025-2026-1,周一 1-2节,A101,60
MATH201,高等数学-1班,2025-2026-1,周二 3-4节,B201,80
```

### 学生选课导入示例 (student_classes.csv)
```csv
student_no,class_name,semester
2023001001,计算机导论-1班,2025-2026-1
2023001001,高等数学-1班,2025-2026-1
```

### 教师任课导入示例 (teacher_classes.csv)
```csv
teacher_no,class_name,semester,role
T001,计算机导论-1班,2025-2026-1,main
T002,计算机导论-1班,2025-2026-1,assistant
```
